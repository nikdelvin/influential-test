---
import MainLayout from "../layouts/MainLayout.astro";
import LinksTable from "../components/dashboard/LinksTable.astro";
import TableRow from "../components/dashboard/TableRow.astro";
import DashboardLayout from "../components/dashboard/DashboardLayout.astro";
import Navbar from "../components/dashboard/Navbar.astro";
import NavbarItem from "../components/dashboard/NavbarItem.astro";
import CountUp from "../components/test/CountUp.astro"
---

<MainLayout>
    <DashboardLayout>
        <Navbar>
            <NavbarItem digit={252} description="Links Scraped"/>
            <NavbarItem digit={252} description="Links Manually Checked"/>
            <NavbarItem digit={252} description="Links Violations"/>
            <NavbarItem digit={252} description="Links Removed"/>
        </Navbar>
        <LinksTable>
            {new Array(100).fill(true).map(row => (
                <TableRow data={[
                    { entry: Math.floor(Math.random() * 1000).toString(), type: 'link-dark' },
                    { entry: '23 Sep 2023', type: 'text' },
                    { entry: 'https://google.com', type: 'link-blue' },
                    { entry: 'Google', type: 'text' },
                    Math.random() > 0.5 ? { entry:  'Removed', type: 'badge-green' } : { entry: 'Delisted', type: 'badge-red' }
                ]}/>
            ))}
        </LinksTable>
    </DashboardLayout>
</MainLayout>
<script>
    if (localStorage.getItem('jwt') == null) window.open('/auth/sign-up', '_self')
</script>


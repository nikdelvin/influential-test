---
export interface Props {
    type: 'text' | 'password' | 'repeatPassword'
    name?: string
    placeholder?: string
}

const { type, name, placeholder } = Astro.props
---

<div class="fv-row fv-plugins-icon-container fv-plugins-bootstrap5-row-valid mb-9" data-kt-password-meter={type === 'password' ? "true" : undefined}>
    {(() => {
        switch (type) {
            case 'text':
                return <input type="text" placeholder={placeholder} name={name} autocomplete="off" class="form-control bg-transparent"/>
            case 'password':
                return <>
                    <div class="mb-1">
                        <div class="position-relative mb-3">    
                            <input class="form-control bg-transparent" type="password" placeholder="Password" name="password" autocomplete="off"/>
                            <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" data-kt-password-meter-control="visibility">
                                <i class="ki-duotone ki-eye-slash fs-2">
                                    <span class="path1"></span>
                                    <span class="path2"></span>
                                    <span class="path3"></span>
                                    <span class="path4"></span>
                                </i>
                                <i class="ki-duotone ki-eye fs-2 d-none">
                                    <span class="path1"></span>
                                    <span class="path2"></span>
                                    <span class="path3"></span>
                                </i>
                            </span>
                        </div>
                        <div class="d-flex align-items-center mb-3" data-kt-password-meter-control="highlight">
                            <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                            <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                            <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                            <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px"></div>
                        </div>
                    </div>
                    <div class="text-muted">
                        Use 8 or more characters with a mix of letters, numbers &amp; symbols.
                    </div>
                    <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
                </>
            case 'repeatPassword':
                return <input type="text" placeholder="Repeat Password" name="confirm-password" autocomplete="off" class="form-control bg-transparent"/>
        }
    })()}
    <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
</div>
